# Phase 2 Security - Environment Variables

# =============================================================================
# SUPABASE CONNECTION (Required for all projects)
# =============================================================================

# Your Supabase project URL
SUPABASE_URL=https://your-project.supabase.co

# Legacy admin key (fallback if service keys not set)
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# =============================================================================
# AGENT-SPECIFIC KEYS (Phase 2 - Privilege Control)
# =============================================================================
# Create these in Supabase Dashboard → Settings → API → Service Role Keys
# After creating, update the SQL with: UPDATE auth.users SET role = 'X' WHERE ...

# Scraper Agent (read-only auctions last 30 days, write own data)
SUPABASE_SCRAPER_KEY=scraper-service-key-here

# Analysis Agent (read processed auctions, write insights)
SUPABASE_ANALYSIS_KEY=analysis-service-key-here

# Report Agent (read-only across all data)
SUPABASE_REPORT_KEY=report-service-key-here

# QA Agent (read all, write monitoring data)
SUPABASE_QA_KEY=qa-service-key-here

# Admin (full access - use sparingly)
SUPABASE_ADMIN_KEY=admin-service-key-here

# =============================================================================
# DATABASE (For SQL deployment via psql)
# =============================================================================
# Format: postgresql://postgres:[PASSWORD]@[HOST]:5432/postgres
DATABASE_URL=postgresql://postgres:your-password@db.your-project.supabase.co:5432/postgres

# Or set password separately
SUPABASE_DB_PASSWORD=your-database-password

# =============================================================================
# PROJECT-SPECIFIC CONFIGURATION
# =============================================================================

# BidDeed.AI: Foreclosure auction data sources
# REALFORECLOSE_URL=https://brevard.realforeclose.com
# BCPAO_API_URL=https://gis.brevardfl.gov/gissrv/rest/services

# Life OS: Family tracking & ADHD management
# WHATSAPP_API_KEY=your-whatsapp-key
# GOOGLE_CALENDAR_CREDENTIALS=path/to/credentials.json

# SPD Site Plan: Land development pipeline
# FIRECRAWL_API_KEY=your-firecrawl-key
# ZONING_API_ENDPOINTS=...

# ZoneWise: Zoning intelligence (separate Supabase)
# ZONEWISE_SUPABASE_URL=https://zonewise-project.supabase.co
# ZONEWISE_SUPABASE_KEY=...

# Tax Optimizer: Medicaid/ACA qualification tracking
# TAX_CALCULATOR_API=...

# =============================================================================
# LLM PROVIDERS (Smart Router)
# =============================================================================

# Anthropic (Claude Opus/Sonnet)
ANTHROPIC_API_KEY=your-anthropic-key

# Google (Gemini 2.5 Flash - FREE tier)
GOOGLE_API_KEY=your-google-key

# DeepSeek (Ultra-cheap tier)
DEEPSEEK_API_KEY=your-deepseek-key

# OpenAI (Fallback)
# OPENAI_API_KEY=your-openai-key

# =============================================================================
# MONITORING & ALERTS (Optional)
# =============================================================================

# Slack webhook for security alerts
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/...

# Email alerts
# ALERT_EMAIL=security@yourdomain.com

# =============================================================================
# SECURITY THRESHOLDS (Optional - defaults in code)
# =============================================================================

# Anomaly detection thresholds
# MAX_OUTPUT_TOKENS=5000
# MAX_FAILURES_PER_10MIN=3
# MAX_REQUESTS_PER_MINUTE=60

# Circuit breaker settings
# CIRCUIT_BREAKER_FAILURE_THRESHOLD=3
# CIRCUIT_BREAKER_TIMEOUT=60
# CIRCUIT_BREAKER_HALF_OPEN_ATTEMPTS=1

# =============================================================================
# NOTES
# =============================================================================
# 1. Copy this file to .env in your project root
# 2. Replace all placeholder values with actual credentials
# 3. NEVER commit .env to git (add to .gitignore)
# 4. For production, use GitHub Secrets or environment variables
# 5. Run setup_security.sh to deploy SQL and verify configuration
